{% extends 'layout.html.twig' %}

{% block title %}Ajouter une figure{% endblock title%}

{% block body %}
    <div class="smallContent">
        {{ include('_flash.html.twig') }}
        <div class="card mb-5">
            <div class="card-header">
                {% block cardHeader %}
                    <h2 class="text-center">Ajouter une nouvelle figure</h2>
                {% endblock %}
            </div>
            <div class="card-body">
                {{ form_start(trickForm) }}
                {% if form_errors(trickForm) is not empty or form_errors(trickForm.images) is not empty %}
                    <div class="alert alert-danger mt-2" role="alert">
                        {{ form_errors(trickForm) }}
                        {{ form_errors(trickForm.images) }}
                    </div>
                {% endif %}
                
                <div class="list-group-item mb-2">
                    <div class="form-group row">
                        {{ form_label(trickForm.name, 'Nom de la figure', {'label_attr': {'class': 'col-sm-4 col-xs-12'}}) }}
                        {{ form_widget(trickForm.name, {'attr': {'class': 'col-sm-8 col-xs-12 form-control'}}) }}
                    </div>
                    <div class="form-group row">
                        {{ form_label(trickForm.description, 'Description', {'label_attr': {'class': 'col-sm-4 col-xs-12'}}) }}
                        {{ form_widget(trickForm.description, {'attr': {'class': 'col-sm-8 col-xs-12 form-control'}}) }}
                    </div>
                    <div class="form-group row">
                        {{ form_label(trickForm.trickgroup, 'Groupe', {'label_attr': {'class': 'col-sm-4 col-xs-12'}}) }}
                        {{ form_widget(trickForm.trickgroup, {'attr': {'class': 'col-sm-8 col-xs-12 form-control'}}) }}
                    </div>
                </div>
                <div class="list-group-item updateMediasButton mb-2">
                    <a class="btn btn-info updateMediasAction w-100">Mettre à jour les images et vidéos</a>
                </div>
                <div class="list-group-item updateMediasBlock mb-2">
                    {% block updateMedias %}
                    <div class="form-group row">
                        {{ form_label(trickForm.images, 'Image(s)', {'label_attr': {'class': 'col-sm-4 col-xs-12'}}) }}
                        {% form_theme trickForm.images 'jquery.collection.html.twig' %}
                        {{ form_widget(trickForm.images) }}
                    </div>
                    <div class="form-group row">
                        {{ form_label(trickForm.videos, 'Vidéo(s)', {'label_attr': {'class': 'col-sm-4 col-xs-12'}}) }}
                        {% form_theme trickForm.videos 'jquery.collection.html.twig' %}
                        {{ form_widget(trickForm.videos) }}
                    </div>
                    {% endblock %}
                </div>
                <div class="validationButtons text-center">
                    {% block return %}{% endblock %}
                    <input type="submit" class="btn btn-light validButton" value="Enregistrer">
                    {% block delete %}{% endblock %}
                </div>
                {{ form_rest(trickForm) }}
                {{ form_end(trickForm) }}
            </div>
        </div>
    </div>
{% endblock body %}